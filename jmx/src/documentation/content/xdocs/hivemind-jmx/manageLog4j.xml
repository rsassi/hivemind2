<?xml version="1.0"?>
<!-- 
   Copyright 2004, 2005 The Apache Software Foundation

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->

<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.3//EN" 
  "http://xml.apache.org/forrest/dtd/document-v13.dtd" [
  <!ENTITY projectroot '../'>
  <!ENTITY % common-links SYSTEM "../links.ent">
  %common-links;
  ]>
<document>
  <header>
    <title>Manage Log4J loggers via JMX</title>
  </header>
  <body>
  	<p>HiveMind JMX includes support for the management of Log4J. 
  		HiveMind uses the basic MBeans already provided by Log4J
  		and adds configurable and dynamic registration of new loggers
  		for management.
  		The MBeans can be used to change log levels, add new
  		appenders and set log thresholds.
		</p>  
		<p>		
  		Add these lines to your descriptor to activate the
  		Log4j management and create MBeans for all loggers named
  		"hivemind.*" (* is a wildcard ).
  	</p>
		<source><![CDATA[
<contribution configuration-id="hivemind.management.MBeans">
  <mbean service-id="hivemind.management.log4j.LogManagementMBean" />
</contribution>

<contribution 
    configuration-id="hivemind.management.log4j.ManagedLog4jLoggers">
    
  <logger name="hivemind.*" />
</contribution>
]]></source> 
	<note>
		At startup HiveMind searches for known loggers that match the
		configured name patterns. It's quite likeley, that some
		of the loggers that should be managed doesn't exist in this
		early phase, since usually loggers are create when a class gets loaded.
		If loggers are missing try to add them using the addLoggerMBean
		method of the LogManagementMBean on runtime.		
	</note>  	
  </body>
</document>